IF
	NumTimesTalkedTo(0)
	OR(2)
		Detect(Player1)
		See(Player1)
	CombatCounter(0)
THEN
	RESPONSE #100
		ClearAllActions()
		StartCutSceneMode()
		StartCutScene("KRCut10A")
END

IF
	Die()
THEN
	RESPONSE #100
		ReallyForceSpellDead(Myself,ILLUSION_DEATH) // SPIN835.SPL (No such index)
		Wait(1)
		DestroySelf()
END

IF
	Allegiance(Myself,ENEMY)
	HPPercentLT(Myself,30)
	!GlobalTimerNotExpired("AuruHealTimer","LOCALS")
	!GlobalLT("AuruHeal","LOCALS",3)
THEN
	RESPONSE #100
		SetGlobalTimer("AuruHealTimer","LOCALS",12)
		IncrementGlobal("AuruHeal","LOCALS",1)
		ForceSpell(Myself,CLERIC_HEAL) // SPPR607.SPL (Heal)
		ApplySpell(Myself,0)
		ApplySpell(Myself,CLERIC_LESSER_RESTORATION) // SPPR417.SPL (Lesser Restoration)
END

IF
	Allegiance(Myself,ENEMY)
	Global("AuruTimeStop","LOCALS",0)
	RandomNum(2,1)
THEN
	RESPONSE #100
		SetGlobal("AuruTimeStop","LOCALS",1)
		ForceSpell(Myself,WIZARD_TIME_STOP) // SPWI909.SPL (Time Stop)
END

IF
	Allegiance(Myself,ENEMY)
	OR(6)
		StateCheck(NearestEnemyOf(Myself),STATE_INVISIBLE)
		StateCheck(NearestEnemyOf(Myself),STATE_IMPROVEDINVISIBILITY)
		StateCheck(SecondNearestEnemyOf(Myself),STATE_INVISIBLE)
		StateCheck(SecondNearestEnemyOf(Myself),STATE_IMPROVEDINVISIBILITY)
		StateCheck(ThirdNearestEnemyOf(Myself),STATE_INVISIBLE)
		StateCheck(ThirdNearestEnemyOf(Myself),STATE_IMPROVEDINVISIBILITY)
	!GlobalTimerNotExpired("AuruSight","LOCALS")
THEN
	RESPONSE #100
		SetGlobalTimer("AuruSight","LOCALS",60)
		ReallyForceSpell(Myself,WIZARD_TRUE_SIGHT) // SPWI609.SPL (True Sight)
END

IF
	Allegiance(Myself,ENEMY)
	!StateCheck(Myself,STATE_MIRRORIMAGE)
	!GlobalTimerNotExpired("AuruMirror","LOCALS")
	RandomNum(2,1)
THEN
	RESPONSE #100
		SetGlobalTimer("AuruMirror","LOCALS",15)
		ForceSpell(Myself,WIZARD_MIRROR_IMAGE) // SPWI212.SPL (Mirror Image)
END

IF
	Allegiance(Myself,ENEMY)
	See(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		Continue()
END

IF
	Allegiance(Myself,ENEMY)
	OR(3)
		See(SecondNearestEnemyOfType([GOODCUTOFF.0.0.BARD]))
		See(SecondNearestEnemyOfType([GOODCUTOFF.0.0.DRUID_ALL]))
		See(SecondNearestEnemyOfType([GOODCUTOFF.0.0.CLERIC_ALL]))
THEN
	RESPONSE #100
		Continue()
END

IF
	Allegiance(Myself,ENEMY)
	OR(3)
		See(NearestEnemyOfType([GOODCUTOFF.0.0.BARD]))
		See(NearestEnemyOfType([GOODCUTOFF.0.0.DRUID_ALL]))
		See(NearestEnemyOfType([GOODCUTOFF.0.0.CLERIC_ALL]))
THEN
	RESPONSE #100
		Continue()
END

IF
	Allegiance(Myself,ENEMY)
	OR(2)
		See(ThirdNearestEnemyOfType([GOODCUTOFF.0.0.LONG_BOW]))
		See(ThirdNearestEnemyOfType([GOODCUTOFF.0.0.SORCERER]))
THEN
	RESPONSE #100
		Continue()
END

IF
	Allegiance(Myself,ENEMY)
	OR(2)
		See(SecondNearestEnemyOfType([GOODCUTOFF.0.0.LONG_BOW]))
		See(SecondNearestEnemyOfType([GOODCUTOFF.0.0.SORCERER]))
THEN
	RESPONSE #100
		Continue()
END

IF
	Allegiance(Myself,ENEMY)
	OR(2)
		See(NearestEnemyOfType([GOODCUTOFF.0.0.LONG_BOW]))
		See(NearestEnemyOfType([GOODCUTOFF.0.0.SORCERER]))
THEN
	RESPONSE #100
		Continue()
END

IF
	AttackedBy([ANYONE],DEFAULT)
	See(LastAttackerOf(Myself))
THEN
	RESPONSE #100
		Enemy()
		Continue()
END

IF
	Allegiance(Myself,ENEMY)
	Range(NearestEnemyOf(Myself),4)
	See(NearestEnemyOf(Myself))
THEN
	RESPONSE #100
		Continue()
END

IF
	Allegiance(Myself,ENEMY)
	Gender(LastSeenBy(Myself),SUMMONED)
	!LevelGT(LastSeenBy(Myself),10)
	!GlobalTimerNotExpired("AuruDeathSpell","LOCALS")
THEN
	RESPONSE #100
		SetGlobalTimer("AuruDeathSpell","LOCALS",30)
		ForceSpell(LastSeenBy(Myself),WIZARD_DEATH_SPELL) // SPWI605.SPL (Death Spell)
END

IF
	Allegiance(Myself,ENEMY)
	RandomNum(2,1)
	Global("AuruSymbol","LOCALS",0)
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
THEN
	RESPONSE #100
		SetGlobal("AuruSymbol","LOCALS",1)
		ForceSpell(LastSeenBy(Myself),WIZARD_NPC_SYMBOL_FEAR) // SPWI899.SPL (Symbol, Fear)
END

IF
	Allegiance(Myself,ENEMY)
	Range(LastSeenBy(Myself),10)
	RandomNum(3,1)
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
THEN
	RESPONSE #100
		ForceSpell(LastSeenBy(Myself),WIZARD_CONE_OF_COLD) // SPWI503.SPL (Cone of Cold)
END

IF
	Allegiance(Myself,ENEMY)
	Range(LastSeenBy(Myself),10)
	RandomNum(4,1)
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
THEN
	RESPONSE #100
		ForceSpell(LastSeenBy(Myself),WIZARD_PRISMATIC_SPRAY) // SPWI714.SPL (Prismatic Spray)
END

IF
	Allegiance(Myself,ENEMY)
	RandomNum(3,1)
	NumCreatureLT("gorgua02",2)
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
	!GlobalTimerNotExpired("AuruDeathFog","LOCALS")
THEN
	RESPONSE #100
		SetGlobalTimer("AuruDeathFog","LOCALS",30)
		ForceSpell(LastSeenBy(Myself),WIZARD_DEATH_FOG) // SPWI614.SPL (Death Fog)
END

IF
	Allegiance(Myself,ENEMY)
	RandomNum(4,1)
	CheckStatLT(LastSeenBy(Myself),50,RESISTMAGIC)
	!HasBounceEffects(LastSeenBy(Myself))
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
THEN
	RESPONSE #100
		ForceSpell(LastSeenBy(Myself),NALMISSRA_CHARM) // SPIN553.SPL (Charm Person)
END

IF
	Allegiance(Myself,ENEMY)
	Range(LastSeenBy(Myself),10)
	!StateCheck(Myself,STATE_IMPROVEDINVISIBILITY)
	RandomNum(2,1)
THEN
	RESPONSE #100
		ForceSpell(Myself,WIZARD_IMPROVED_INVISIBILITY) // SPWI405.SPL (Improved Invisibility)
END

IF
	Allegiance(Myself,ENEMY)
	!StateCheck(LastSeenBy(Myself),STATE_SLOWED)
	CheckStatLT(LastSeenBy(Myself),50,RESISTMAGIC)
	!HasBounceEffects(LastSeenBy(Myself))
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
	RandomNum(4,1)
THEN
	RESPONSE #100
		ForceSpell(LastSeenBy(Myself),WIZARD_SLOW) // SPWI312.SPL (Slow)
END

IF
	Allegiance(Myself,ENEMY)
	Global("FirstTimeStop","LOCALS",0)
	!StateCheck(LastSeenBy(Myself),STATE_INVISIBLE)
	!StateCheck(LastSeenBy(Myself),STATE_IMPROVEDINVISIBILITY)
THEN
	RESPONSE #50
		SetGlobal("FirstTimeStop","LOCALS",1)
		ForceSpell(Myself,WIZARD_TIME_STOP) // SPWI909.SPL (Time Stop)
		AttackReevaluate(LastSeenBy(Myself),60)
END